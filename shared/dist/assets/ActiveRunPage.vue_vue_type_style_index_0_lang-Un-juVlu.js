import{u as $,d as V,a as z,b as P}from"./defaults-DeSn8Qg2.js";import{F as N}from"./vue-inline-svg.esm-BU2rrUpD.js";import{d as g,p as T,c as r,o as n,n as m,F as b,e as w,l as f,a as u,f as B,t as d,j as D,w as L,b as l,i as h,q as k,T as R,k as C,u as v,r as E}from"./index-BU_N2qGB.js";import{d as S,g as F}from"./updatetime-vSJsQ2Hg.js";const I="/bundles/licenseathon-vue/shared/dist/assets/layout-1p-16-9-BPvQL55G.svg",O="/bundles/licenseathon-vue/shared/dist/assets/layout-1p-3-2-BE5I46cV.svg",G="/bundles/licenseathon-vue/shared/dist/assets/layout-1p-4-3-DgDL4Coo.svg",j="/bundles/licenseathon-vue/shared/dist/assets/layout-1p-ds-Ck5oExuZ.svg",q="/bundles/licenseathon-vue/shared/dist/assets/layout-2p-16-9-DJ0fG4rm.svg",A="/bundles/licenseathon-vue/shared/dist/assets/layout-2p-4-3-CeHv7Kl2.svg",H="/bundles/licenseathon-vue/shared/dist/assets/layout-3p-3-way-PdmPF5N-.svg",J={key:0},K=g({__name:"CommentatorDisplayComponent",props:{ratio:{},players:{}},setup(p){const s=$("commentators","licenseathon-vue",{defaultValue:{names:["",""]}}),i=()=>s.data.names.filter(t=>t.length>0);return(t,e)=>{const a=T("font-awesome-icon");return n(),r("div",{class:m(`comms-container layout-${t.ratio} layout-${t.players}p`)},[(n(!0),r(b,null,w(i(),o=>(n(),r("span",{key:o,class:m("commentator")},[o.length?(n(),r("span",J,[u(a,{icon:"fa-solid fa-microphone",class:"userIcon"}),B(" "+d(o),1)])):f("",!0)]))),128))],2)}}}),M=["id"],Q={class:"game-name-container info-container"},U={id:"game-name",class:"fit"},Z={class:"game-category-container info-container"},W={id:"game-category",class:"fit"},X={class:"game-estimate-container info-container"},Y={id:"game-estimate",class:"fit"},x=g({__name:"GameInfoPanel",props:{activeRun:{},players:{}},setup(p){const s=p,i=$("runDataActiveRun","nodecg-speedcontrol",{defaultValue:V}),t=()=>{let e={};s.players===1&&(e={multiLine:!0,minSize:14,maxSize:24}),s.players>1&&(e={multiLine:!0,minSize:11,maxSize:18}),S(["#game-name","#game-category","#game-estimate"],e)};return D(t),L(()=>i==null?void 0:i.data,t),(e,a)=>{var o,c;return e.activeRun?(n(),r("div",{key:0,class:m(["game-container",`layout-${e.players}p`]),id:e.activeRun.id},[l("div",Q,[l("p",U,d((o=e.activeRun)==null?void 0:o.game),1)]),l("div",Z,[l("p",W,d((c=e.activeRun)==null?void 0:c.category),1)]),l("div",X,[l("p",Y,d(e.activeRun.estimate),1)])],10,M)):f("",!0)}}}),ee=g({__name:"RaceTimerComponent",props:{id:{},ratio:{},position:{}},setup(p){const s=p,i=$("timer","nodecg-speedcontrol",{defaultValue:z}),t=h(()=>{var e;return(e=i==null?void 0:i.data)==null?void 0:e.teamFinishTimes[s.id]});return(e,a)=>(n(),k(R,{name:"wipe"},{default:C(()=>{var o,c;return[t.value?(n(),r("div",{key:0,class:m(`timer timer-${(o=t.value)==null?void 0:o.state} player-${e.position}`)},d((c=t.value)==null?void 0:c.time),3)):f("",!0)]}),_:1}))}}),ae=["data-player"],se={key:0,class:"player-name-container"},te={class:"wrapper"},oe={id:"player-name",class:"fit"},ne={key:1,class:"player-social-container"},ie={class:"wrapper"},re={id:"player-social",class:"fit"},le={class:"player-pronouns-container"},ce={key:0,class:"wrapper fit",id:"player-pronouns"},pe=g({__name:"RunnerInfoPanel",props:{player:{},ratio:{},position:{}},setup(p){const s=p;h(()=>{var a;return(a=s.player.pronouns)==null?void 0:a.split(",")});const i=F(),t=h(()=>({multiLine:!0,minSize:14,maxSize:24})),e=()=>{S(["#player-name","#player-social"],t.value),S(["#player-pronouns"],{multiLine:!0,minSize:10,maxSize:14})};return D(()=>{e()}),L(()=>s.player,e),(a,o)=>{const c=T("font-awesome-icon");return n(),r("div",{class:m(["player-container",`layout-${a.ratio}`,`player-${a.position}`]),"data-player":`${a.player.id}`},[u(R,{name:"wipe",onEnter:e},{default:C(()=>[v(i)<30?(n(),r("div",se,[u(c,{icon:"fa-solid fa-gamepad",class:"icon"}),l("span",te,[l("span",oe,d(a.player.name),1)])])):v(i)>=30?(n(),r("div",ne,[u(c,{icon:"fa-brands fa-twitch",class:"icon"}),l("span",ie,[l("span",re,d(a.player.social.twitch),1)])])):f("",!0)]),_:1}),l("div",le,[u(R,{name:"wipe"},{default:C(()=>{var _;return[a.player.pronouns&&((_=a.player.pronouns)==null?void 0:_.length)>0?(n(),r("span",ce,d(a.player.pronouns),1)):f("",!0)]}),_:1})])],10,ae)}}}),ue=g({__name:"TimerComponent",props:{ratio:{},players:{}},setup(p){const s=$("timer","nodecg-speedcontrol",{defaultValue:z}),i=h(()=>{var t;return((t=s.data)==null?void 0:t.state)||"stopped"});return(t,e)=>{var a;return n(),r("div",{class:m(`timer-container layout-${t.ratio} layout-${t.players}p`)},[l("span",{class:m(`timer-${i.value}`)},d((a=v(s).data)==null?void 0:a.time),3)],2)}}}),ve=g({__name:"ActiveRunPage",props:{players:{},ratio:{}},setup(p){const s=p,i=new URL(Object.assign({"../assets/layout-1p-16-9.svg":I,"../assets/layout-1p-3-2.svg":O,"../assets/layout-1p-4-3.svg":G,"../assets/layout-1p-ds.svg":j,"../assets/layout-2p-16-9.svg":q,"../assets/layout-2p-4-3.svg":A,"../assets/layout-3p-3-way.svg":H})[`../assets/layout-${s.players}p-${s.ratio}.svg`],import.meta.url).href,t=E(null),e=$("runDataActiveRun","nodecg-speedcontrol",{defaultValue:V}),a=h(()=>{var c;const o=(c=e==null?void 0:e.data)==null?void 0:c.teams.map(_=>_.players[0]);return o||[P]});return(o,c)=>{var _;return n(),r("div",null,[u(v(N),{src:v(i),ref_key:"layoutRef",ref:t,id:"layout"},null,8,["src"]),l("div",{class:m(["layout-container",{solo:o.players==1,race:o.players>1},`ratio-${o.ratio}`])},[(n(!0),r(b,null,w(a.value,y=>(n(),k(pe,{key:a.value.indexOf(y),player:y,ratio:s.ratio,position:a.value.indexOf(y)+1},null,8,["player","ratio","position"]))),128)),u(K,{ratio:s.ratio,players:s.players},null,8,["ratio","players"]),u(x,{"active-run":(_=v(e))==null?void 0:_.data,players:s.players},null,8,["active-run","players"]),u(ue,{ratio:s.ratio,players:s.players},null,8,["ratio","players"]),s.players>1?(n(),r("div",{key:0,class:m(`finish-timer-container layout-${o.ratio}`)},[(n(!0),r(b,null,w(a.value,y=>(n(),k(ee,{key:a.value.indexOf(y),id:y.teamID,ratio:s.ratio,position:a.value.indexOf(y)+1},null,8,["id","ratio","position"]))),128))],2)):f("",!0)],2)])}}});export{ve as _};
