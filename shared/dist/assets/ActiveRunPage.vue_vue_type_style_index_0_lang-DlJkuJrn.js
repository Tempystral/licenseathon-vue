import{f as w,g as L,_ as O,I as D}from"./IncentiveComponent-DCV_dpgm.js";import{u as $,S as v,b as x,m as I,a as j,d as T,c as V,e as U,f as N,g as P}from"./defaults-Bw6pt-Rt.js";import{F as E}from"./vue-inline-svg.esm-BqCziEzx.js";import{d as _,i as g,w as R,j as B,c as p,o as l,n as m,l as y,a as u,b as n,u as r,t as d,s as C,T as S,k as z,F as k,f as G,r as M,m as A,e as F}from"./index-C3g_gNjf.js";const K="/bundles/licenseathon-vue/shared/dist/assets/layout-1p-16-9-Bu7YbCab.svg",Y="/bundles/licenseathon-vue/shared/dist/assets/layout-1p-3-2-DuLOeXt1.svg",X="/bundles/licenseathon-vue/shared/dist/assets/layout-1p-4-3-BZYtlC0B.svg",Z={key:0,class:"commentator",id:"commentator-1-container"},q={id:"commentator-1",class:"inline-block whitespace-nowrap"},H={key:1,class:"commentator",id:"commentator-2-container"},J={id:"commentator-2",class:"inline-block whitespace-nowrap"},Q=_({__name:"CommentatorDisplayComponent",props:{ratio:{},players:{}},setup(f){const a=$("commentators","licenseathon-vue",{defaultValue:{names:["",""]}}),s=g(()=>{var t;return((t=a.data)==null?void 0:t.names.filter(o=>o.length>0))??[]}),c=()=>{w(["#commentator-1","#commentator-2"],{multiLine:!0,minSize:18,maxSize:24})};function e(t){const o=document.getElementById("Commentator-1"),i=document.getElementById("Commentator-2");t.length==2?(o&&(o.style.display=""),i&&(i.style.display="")):t.length==1?(i&&(i.style.display="none"),o&&(o.style.display="")):t.length===0&&(i&&(i.style.display="none"),o&&(o.style.display="none"))}return R(s,t=>{e(t),c()}),B(()=>{e(s.value),setTimeout(c,1e3)}),(t,o)=>(l(),p("div",{class:m(`comms-container layout-${t.ratio} layout-${t.players}p font-[Fusion]`)},[s.value.length>0?(l(),p("div",Z,[u(r(v),{type:"mdi",path:r(x),class:"ms-1 mic-icon",id:"mic-icon-1",size:18},null,8,["path"]),n("p",q,d(s.value[0]),1)])):y("",!0),s.value.length>1?(l(),p("div",H,[u(r(v),{type:"mdi",path:r(x),class:"ms-1 mic-icon",id:"mic-icon-2",size:18},null,8,["path"]),n("p",J,d(s.value[1]),1)])):y("",!0)],2))}}),W=["id"],ee={class:"game-name-container info-container"},te={id:"game-name",class:"fit mt-1"},oe={class:"game-category-container info-container"},ae={id:"game-category",class:"fit mt-1"},ie={class:"game-estimate-container info-container"},se={class:"font-[Karnivore] text-lg"},ne={key:0,class:"game-platform-container info-container"},le={id:"game-platform"},re={key:1,class:"game-year-container info-container"},pe={id:"game-year"},ce=_({__name:"GameInfoPanel",props:{activeRun:{},ratio:{},players:{}},setup(f){const a=f,s=$("runDataActiveRun","nodecg-speedcontrol",{defaultValue:T}),c=()=>{let e={};a.players===1&&(e={multiLine:!0,minSize:14,maxSize:24}),a.players>1&&(e={multiLine:!0,minSize:11,maxSize:18}),w(["#game-name","#game-category"],e),w("#game-platform",{multiLine:!0,minSize:14,maxSize:18})};return B(c),R(()=>s==null?void 0:s.data,c),(e,t)=>{var o,i;return e.activeRun?(l(),p("div",{key:0,class:m([["game-container",`layout-${e.players}p`,`layout-${e.ratio}`],"fixed font-[Fusion]"]),id:e.activeRun.id},[n("div",ee,[n("p",te,d((o=e.activeRun)==null?void 0:o.game),1)]),n("div",oe,[n("p",ae,d((i=e.activeRun)==null?void 0:i.category),1)]),n("div",ie,[n("p",{id:"game-estimate",class:m(["font-[Karnivore_Lite] mb-1",e.ratio==="16-9"?"text-3xl":"text-2xl"])},d(e.activeRun.estimate),3)]),n("div",se,[e.activeRun.system?(l(),p("div",ne,[u(r(v),{type:"mdi",path:r(I),class:"inline align-middle",size:e.ratio==="16-9"?40:32},null,8,["path","size"]),n("p",le,d(e.activeRun.system),1)])):y("",!0),e.activeRun.release?(l(),p("div",re,[u(r(v),{type:"mdi",path:r(j),class:"inline align-middle",size:e.ratio==="16-9"?40:32},null,8,["path","size"]),n("p",pe,d(e.activeRun.release),1)])):y("",!0)])],10,W)):y("",!0)}}}),ue=_({__name:"RaceTimerComponent",props:{id:{},ratio:{},position:{}},setup(f){const a=f,s=$("timer","nodecg-speedcontrol",{defaultValue:V}),c=g(()=>{var e;return(e=s==null?void 0:s.data)==null?void 0:e.teamFinishTimes[a.id]});return(e,t)=>(l(),C(S,{name:"wipe"},{default:z(()=>{var o,i;return[c.value?(l(),p("div",{key:0,class:m(`timer timer-${(o=c.value)==null?void 0:o.state} player-${e.position}`)},d((i=c.value)==null?void 0:i.time),3)):y("",!0)]}),_:1}))}}),de=["data-player"],me={key:0,class:"player-name-container absolute w-full"},fe={id:"player-name",class:"inline-block whitespace-nowrap max-w-10/12"},ye={key:1,class:"player-social-container absolute w-full"},he={id:"player-social",class:"inline-block whitespace-nowrap max-w-10/12"},ve=["data-player"],ge={key:0,class:"wrapper inline-block whitespace-nowrap",id:"player-pronouns"},_e=_({__name:"RunnerInfoPanel",props:{player:{},ratio:{},position:{}},setup(f){const a=f;g(()=>{var t;return(t=a.player.pronouns)==null?void 0:t.split(",")});const s=L(),c=g(()=>({multiLine:!0,minSize:14,maxSize:30})),e=()=>{w(["#player-name","#player-social"],c.value),w(["#player-pronouns"],{multiLine:!0,minSize:18,maxSize:24})};return B(()=>{e()}),R(()=>a.player,e),(t,o)=>(l(),p(k,null,[n("div",{class:m(["absolute font-[Fusion] flex flex-col justify-center text-center mt-0.5",["player-container",`layout-${t.ratio}`,`player-${t.position}`]]),"data-player":`${t.player.id}`},[u(S,{name:"wipe",onEnter:e},{default:z(()=>[r(s)<30?(l(),p("div",me,[n("p",fe,[u(r(v),{type:"mdi",path:r(U),class:"inline align-middle",size:28},null,8,["path"]),G(" "+d(t.player.name),1)])])):r(s)>=30?(l(),p("div",ye,[n("p",he,[u(r(v),{type:"mdi",path:r(N),class:"inline align-middle",size:28},null,8,["path"]),G(" "+d(t.player.social.twitch),1)])])):y("",!0)]),_:1})],10,de),n("div",{"data-player":`${t.player.id}`,class:m([["player-pronouns-container",`layout-${t.ratio}`,`player-${t.position}`],"absolute font-[Fusion] flex flex-col justify-center text-center mt-0.5"])},[u(S,{name:"wipe"},{default:z(()=>{var i;return[t.player.pronouns&&((i=t.player.pronouns)==null?void 0:i.length)>0?(l(),p("span",ge,d(t.player.pronouns),1)):y("",!0)]}),_:1})],10,ve)],64))}}),we={class:"flex flex-col justify-center items-start"},$e=_({__name:"TimerComponent",props:{ratio:{},players:{}},setup(f){const a=$("timer","nodecg-speedcontrol",{defaultValue:V}),s=g(()=>{var e;return((e=a.data)==null?void 0:e.state)||"stopped"});function c(e){return e?e.slice(1):void 0}return(e,t)=>{var o;return l(),p("div",{class:m(`timer-container layout-${e.ratio} layout-${e.players}p`)},[t[0]||(t[0]=n("div",{id:"crt",class:"absolute z-10 rounded"},null,-1)),n("div",we,[n("span",{id:"timer",class:m(`ms-2 timer-${s.value} z-0`)},d(c((o=r(a).data)==null?void 0:o.time)),3)])],2)}}}),be={class:"w-full h-full absolute"},Re=_({__name:"ActiveRunPage",props:{players:{},ratio:{}},setup(f){const a=f,s=new URL(Object.assign({"../assets/layout-1p-16-9.svg":K,"../assets/layout-1p-3-2.svg":Y,"../assets/layout-1p-4-3.svg":X})[`../assets/layout-${a.players}p-${a.ratio}.svg`],import.meta.url).href,c=M(null),e=$("runDataActiveRun","nodecg-speedcontrol",{defaultValue:T}),t=g(()=>{var i;const o=(i=e==null?void 0:e.data)==null?void 0:i.teams.map(b=>b.players[0]);return o||[P]});return(o,i)=>{var b;return l(),p("div",be,[i[1]||(i[1]=A('<svg height="0" width="0"><defs><filter id="offset-inset-shadow" color-interpolation-filters="sRGB" filterUnits="objectBoundingBox" primitiveUnits="userSpaceOnUse"><feOffset dx="20" dy="0" in="SourceGraphic" result="offset"></feOffset><feGaussianBlur stdDeviation="20 20" x="0%" y="0%" width="100%" height="100%" in="offset" edgeMode="none" result="blur"></feGaussianBlur><feComposite in="SourceGraphic" in2="blur" operator="out" x="0%" y="0%" width="100%" height="100%" result="composite"></feComposite><feFlood flood-color="#000000" flood-opacity="0.95" x="0%" y="0%" width="100%" height="100%" result="flood"></feFlood><feComposite in="flood" in2="composite" operator="in" x="0%" y="0%" width="100%" height="100%" result="composite1"></feComposite><feComposite in="composite1" in2="SourceGraphic" operator="over" x="0%" y="0%" width="100%" height="100%" result="composite2"></feComposite></filter><filter id="inset-shadow" color-interpolation-filters="sRGB" filterUnits="objectBoundingBox" primitiveUnits="userSpaceOnUse"><feGaussianBlur stdDeviation="20 20" x="0%" y="0%" width="100%" height="100%" in="offset" edgeMode="none" result="blur"></feGaussianBlur><feComposite in="SourceGraphic" in2="blur" operator="out" x="0%" y="0%" width="100%" height="100%" result="composite"></feComposite><feFlood flood-color="#000000" flood-opacity="0.95" x="0%" y="0%" width="100%" height="100%" result="flood"></feFlood><feComposite in="flood" in2="composite" operator="in" x="0%" y="0%" width="100%" height="100%" result="composite1"></feComposite><feComposite in="composite1" in2="SourceGraphic" operator="over" x="0%" y="0%" width="100%" height="100%" result="composite2"></feComposite></filter></defs></svg>',1)),u(r(E),{src:r(s),ref_key:"layoutRef",ref:c,id:"layout"},null,8,["src"]),n("div",{class:m(["layout-container",{solo:o.players==1,race:o.players>1},`ratio-${o.ratio}`])},[i[0]||(i[0]=n("div",{id:"logo-container",class:"absolute h-fit w-fit flex items-center"},[n("img",{src:O})],-1)),(l(!0),p(k,null,F(t.value,h=>(l(),C(_e,{key:t.value.indexOf(h),player:h,ratio:a.ratio,position:t.value.indexOf(h)+1},null,8,["player","ratio","position"]))),128)),u(Q,{ratio:a.ratio,players:a.players},null,8,["ratio","players"]),u(ce,{"active-run":(b=r(e))==null?void 0:b.data,ratio:a.ratio,players:a.players},null,8,["active-run","ratio","players"]),u($e,{ratio:a.ratio,players:a.players},null,8,["ratio","players"]),a.players>1?(l(),p("div",{key:0,class:m(`finish-timer-container layout-${o.ratio}`)},[(l(!0),p(k,null,F(t.value,h=>(l(),C(ue,{key:t.value.indexOf(h),id:h.teamID,ratio:a.ratio,position:t.value.indexOf(h)+1},null,8,["id","ratio","position"]))),128))],2)):y("",!0),u(D,{ratio:a.ratio},null,8,["ratio"])],2)])}}});export{Re as _};
